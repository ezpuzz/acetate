{% extends "layout.jinja" %}
{% block content %}
<div id="content" class="pt-4 grow flex flex-col min-h-0 shrink gap-y-4">
    <form action="/releases" method="get" hx-boost="true" hx-push-url="true"
        class="px-4 flex-none flex flex-wrap items-stretch gap-4">


        <div class="flex flex-col items-start">
            <label for="label">Label</label>

            <input id="label" hx-trigger="input changed delay:500ms, search" hx-get="/releases" hx-target="#releases"
                hx-include="closest form" type="search" name="label" value="{{label|d()}}" placeholder="Defected"
                class="rounded-md border p-2 w-1/5 min-w-64" />
        </div>


        <div class="flex flex-col items-start">
            <label for="song">Song Name</label>

            <input id="song" hx-trigger="input changed delay:500ms, search" hx-get="/releases" hx-target="#releases"
                hx-include="closest form" type="search" name="song" value="{{song|d()}}" placeholder="Don't Cry Tonight"
                class="rounded-md border p-2 w-1/5 min-w-64" />
        </div>

        <div class="flex flex-col items-start">
            <label for="artist">Artist</label>

            <input id="artist" hx-trigger="input changed delay:500ms, search" hx-get="/releases" hx-target="#releases"
                hx-include="closest form" type="search" name="artist" value="{{artist|d()}}" placeholder="Acen"
                class="rounded-md border p-2 w-1/5 min-w-64" />
        </div>


        <div class="flex items-center gap-2">
            <label for="videos_only">Only Release with Videos</label><input type="checkbox" id="videos_only"
                name="videos_only" checked hx-trigger="click" hx-get="/releases" hx-target="#releases"
                hx-include="closest form" />
        </div>
    </form>

    <div class="grow overflow-auto p-4 gap-y-4 flex flex-col bg-teal-700" id="releases">
        {% include "releases.jinja" %}
    </div>

    <div class="flex-none w-full h-16 flex items-center px-4 gap-4 border-t bg-white">
        <div>Show <span class="font-bold">1 - 100</span> of <span class="font-bold">57475</span> results</div>
        <div class="grow"></div>
        <div hx-boost="true">
            Results per page
            <select name="pageSize" hx-get="/releases" hx-replace-url="true" hx-target="#releases"
                class="border rounded-md p-2">
                <option value="25" {{"selected" if pageSize=="25" }}>25</option>
                <option value="50" {{"selected" if pageSize=="50" }}>50</option>
                <option value="100" {{"selected" if pageSize=="100" }}>100</option>
            </select>
        </div>
        <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6 flex-none">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
            </svg>
            Page <input name="page" type="number" class="border mx-2 p-2 w-16" value="1" /> of 575
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6 flex-none">
                <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
            </svg>
        </div>
    </div>
    {% endblock %}